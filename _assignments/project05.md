---
layout: assignment
due: 2022-04-11 23:59:59 -0800
github_url: https://www.cs.usfca.edu
permalink: assignments/project05.html
---

{% assign img_base = site.url | append: site.baseurl | append: "/assets/img" %}

## Logistics
1. Submit your `.dig` files (one for each circuit) and `.hex` files to the Github Classroom repo
1. Project05 will not include an interactive grading meeting. We will grade project05 offline.
1. Your top-level circuit must be named `project05.dig`
1. You must name the inputs and outputs exactly as shown below

## Requirements
1. You will design and build a circuit which analyzes machine code instructions, i.e. a static analyzer
1. Your circuit will read machine-language instructions from a ROM component and provide a count of each type of instruction, and a total of all instructions. Your outputs must be named as shown: 
    1. DP (add, sub, mov, cmp)
    1. MEM (ldr, str)
    1. B (Link bit clear)
    1. BCC (not ALways)
    1. BL (Link bit set)
    1. BX
    1. MUL
    1. TOTAL (of all instructions before the marker)
1. Your outputs should be named exactly as shown above
1. You need these inputs, named as shown:
    1. A 2-bit input called PROG that selects the program to be analyzed
    1. A clock named CLK
    1. A 1-bit input named CLR which clears the sequential components
1. To determine the end of a program, your circuit will look for an instruction marker. The marker will be `add r0, r0, #0`. Note this is a valid instruction, but one that is unlikely to appear in normal code. You must add this marker at the end of each program you will analyze.
1. You only need to support programs that contain up to 256 instructions (including the marker).
1. You can use the Digital components: multiplexors, encoders, decoders, gates, splitters, and wires. You must supply all other components yourself including: adders, registers, counters, instruction storage, and analyzer.
1. Test input: Your instruction storage will contain the machine code for `fib_rec_s`, `is_pal_rec_s`, `getbit_seq_s`, and `quadratic_s` as generated by
```
$ objdump -d file.o | python3 makerom3.py > file_rom.hex  
```
Remember to commit your `.hex` files in your repo

## Given
1. Circuits built in lecture
1. Screen shot of top-level circuit

## Rubric
1. Autograder test cases (88 pts.)
1. Neatness (12 pts.)

## Partial Top-level Circuit Image
![project06-top-level]({{ img_base }}/project05-top-level.png)