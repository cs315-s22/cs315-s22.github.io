<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Project01 Port Forwarding | CS 315 - Computer Architecture</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Project01 Port Forwarding" />
<meta name="author" content="Phil Peterson" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Requirements If you want to leave your pi at home, you must be able to control the WiFi router at home This is all optional not part of the project01 checkoff" />
<meta property="og:description" content="Requirements If you want to leave your pi at home, you must be able to control the WiFi router at home This is all optional not part of the project01 checkoff" />
<meta property="og:site_name" content="CS 315 - Computer Architecture" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-05-12T18:45:50+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Project01 Port Forwarding" />
<script type="application/ld+json">
{"description":"Requirements If you want to leave your pi at home, you must be able to control the WiFi router at home This is all optional not part of the project01 checkoff","url":"/assignments/project01-port-forwarding.html","@type":"BlogPosting","headline":"Project01 Port Forwarding","dateModified":"2022-05-12T18:45:50+00:00","datePublished":"2022-05-12T18:45:50+00:00","author":{"@type":"Person","name":"Phil Peterson"},"mainEntityOfPage":{"@type":"WebPage","@id":"/assignments/project01-port-forwarding.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="CS 315 - Computer Architecture" /><head>
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">  
</head>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">CS 315 - Computer Architecture</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/help/">Getting Help</a><a class="page-link" href="/syllabus/">Syllabus</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper"><h1 class="page-heading">Project01 Port Forwarding</h1><div class="container"><hr>
  <section id="main_content">
    <h3 id="requirements">Requirements</h3>
<ol>
  <li>If you want to leave your pi at home, you must be able to control the WiFi router at home</li>
  <li>This is all <strong>optional</strong> not part of the project01 checkoff</li>
</ol>

<h3 id="your-home-network">Your Home Network</h3>
<ol>
  <li>Your home router has an IPv4 address on the public Internet. If you use a website like <a href="https://whatismyipaddress.com/">https://whatismyipaddress.com/</a> from your home network, you can see an address like <code class="language-plaintext highlighter-rouge">73.240.154.193</code> (just an example)</li>
  <li>Your Pi has a private network address on your home network. You can see it like this:
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> pi@pi3:~ <span class="nv">$ </span>ifconfig wlan0
 wlan0: <span class="nv">flags</span><span class="o">=</span>4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
         inet 192.168.176.182  netmask 255.255.255.0  broadcast 192.168.176.255
         inet6 fd2c:615:9bdd:4066:c8fc:a67b:304d:4b3f  prefixlen 64  scopeid 0x0&lt;global&gt;
         inet6 fe80::fac8:5dab:1e41:85bd  prefixlen 64  scopeid 0x20&lt;<span class="nb">link</span><span class="o">&gt;</span>
         ether b8:27:eb:49:ce:77  txqueuelen 1000  <span class="o">(</span>Ethernet<span class="o">)</span>
         RX packets 9854  bytes 1228582 <span class="o">(</span>1.1 MiB<span class="o">)</span>
         RX errors 0  dropped 0  overruns 0  frame 0
         TX packets 764  bytes 111343 <span class="o">(</span>108.7 KiB<span class="o">)</span>
         TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre></div>    </div>
    <p>In this example, my Pi has the private network address <code class="language-plaintext highlighter-rouge">192.168.176.182</code></p>
  </li>
  <li>Your home router probably allows “port forwarding”, where network traffic on a given network port can be forwarded to a private address inside the router’s network. <code class="language-plaintext highlighter-rouge">ssh</code> uses port 22 by default.</li>
  <li>You want to configure your router so that port 22 traffic to the router’s public address gets forwarded to port 22 on your Pi. Every router has its own UI, but the settings should be called Port Forwarding.</li>
  <li>Once you get that set up, you should be able to take your laptop to USF Wireless or CSLabs WiFi and ssh to your Pi at home
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>ssh pi@73.240.154.193
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="dynamic-dns-optional">Dynamic DNS (optional)</h3>

<ol>
  <li>There are free dynamic DNS services like <a href="https://freeddns.dynu.com/">https://freeddns.dynu.com/</a></li>
  <li>You can create an account, and add a DNS entry for your device, calling it whatever name is available in the DDNS provider. Let’s say I create <code class="language-plaintext highlighter-rouge">mypi</code></li>
  <li>Use the DDNS provider to map <code class="language-plaintext highlighter-rouge">mypi</code> to your router’s public IP address (<code class="language-plaintext highlighter-rouge">73.240.154.193</code> in the example above). Now you can connect to your Pi using the command
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>ssh pi@mypi.freeddns.org
</code></pre></div>    </div>
  </li>
  <li>Your DDNS provider will probably tell you that DNS changes take time to propagate across the Internet. Can be hours or days.</li>
</ol>

<h3 id="shell-aliases-optional">Shell aliases (optional)</h3>

<ol>
  <li>If you don’t want to type the whole <code class="language-plaintext highlighter-rouge">ssh</code> command, you can create a shell alias
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">alias </span><span class="nv">pi</span><span class="o">=</span><span class="s2">"ssh pi@mypi.freeddns.org"</span>
</code></pre></div>    </div>
    <p>or, if you didn’t use DDNS</p>
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">alias </span><span class="nv">pi</span><span class="o">=</span><span class="s2">"ssh pi@73.240.154.193"</span>
</code></pre></div>    </div>
  </li>
  <li>If you’re using a Mac and <code class="language-plaintext highlighter-rouge">zsh</code> (command prompt is <code class="language-plaintext highlighter-rouge">%</code>) you put the alias in <code class="language-plaintext highlighter-rouge">~/.zshrc</code>. If you’re using <code class="language-plaintext highlighter-rouge">bash</code> (command prompt is <code class="language-plaintext highlighter-rouge">$</code>) you put the alias in <code class="language-plaintext highlighter-rouge">~/.bashrc</code></li>
  <li>Now you can connect to you pi just by typing this (as you see me doing in class)
    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>pi
</code></pre></div>    </div>
  </li>
</ol>

  </section>
</div>

      </div>
    </main>

  </body>

</html>
