<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Project01 | CS 315 - Computer Architecture</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Project01" />
<meta name="author" content="Phil Peterson" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Requirements In our lab section, instructor/TA will check: ssh onto your pi clone a git repo from github.com (must show Internet access) Use gcc and an editor of your choice to create, compile, and run Hello World in C." />
<meta property="og:description" content="Requirements In our lab section, instructor/TA will check: ssh onto your pi clone a git repo from github.com (must show Internet access) Use gcc and an editor of your choice to create, compile, and run Hello World in C." />
<meta property="og:site_name" content="CS 315 - Computer Architecture" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-05-12T18:45:50+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Project01" />
<script type="application/ld+json">
{"description":"Requirements In our lab section, instructor/TA will check: ssh onto your pi clone a git repo from github.com (must show Internet access) Use gcc and an editor of your choice to create, compile, and run Hello World in C.","url":"/assignments/project01.html","@type":"BlogPosting","headline":"Project01","dateModified":"2022-05-12T18:45:50+00:00","datePublished":"2022-05-12T18:45:50+00:00","author":{"@type":"Person","name":"Phil Peterson"},"mainEntityOfPage":{"@type":"WebPage","@id":"/assignments/project01.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="CS 315 - Computer Architecture" /><head>
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">  
</head>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">CS 315 - Computer Architecture</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/help/">Getting Help</a><a class="page-link" href="/syllabus/">Syllabus</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper"><h1 class="page-heading">Project01</h1><div class="container">Due: 
    <span class="due-date">
      Wed, Feb 9, 2022 at 02:00 PM 
    </span><hr>
  <section id="main_content">
    <h2 id="requirements">Requirements</h2>
<p>In our lab section, instructor/TA will check:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">ssh</code> onto your pi</li>
  <li>clone a git repo from <code class="language-plaintext highlighter-rouge">github.com</code> (must show Internet access)</li>
  <li>Use <code class="language-plaintext highlighter-rouge">gcc</code> and an editor of your choice to create, compile, and run Hello World in C.</li>
</ol>

<h2 id="install-raspberry-pi-os-linux">Install Raspberry Pi OS (Linux)</h2>
<ol>
  <li>Go to https://www.raspberrypi.org/downloads/</li>
  <li>Download the <strong>Imager</strong> for your laptop’s OS, and install it</li>
  <li>The imager allows you to “burn” or “flash” the OS image onto the Micro SD card</li>
  <li>Under Operating System, we recommend selecting <strong>Raspberry Pi OS (other)</strong> and then <strong>Raspberry Pi OS Lite (32 bit)</strong>.</li>
  <li>If you want to install one of the desktop GUI builds and plug your Pi into a keyboard, mouse, and monitor, that’s fine. Lite is a smaller download and adequate for our projects.</li>
  <li>Insert your Micro SD card or adapter into your laptop or hub. Your laptop may mount the SD card.</li>
  <li>Under <strong>Storage</strong>, select your card</li>
</ol>

<h2 id="option-1-connect-your-pi-to-wifi-directly">Option 1: Connect your Pi to WiFi Directly</h2>
<ol>
  <li>Type <strong>Ctrl-Shift-X</strong> to bring up the <strong>Advanced Options</strong> dialog</li>
  <li>Click the checkbox for <strong>Set Hostname</strong>, and give your Pi a unique hostname, perhaps your USF username</li>
  <li>Click the checkbox for <strong>Enable SSH</strong></li>
  <li>Click the radio button for <strong>Use Password authentication</strong> and use a good password</li>
  <li>Click the <strong>Configure wifi checkbox</strong> and use your WiFi network’s SSID and password</li>
  <li>Click the <strong>Wifi country</strong> menu and choose <strong>US</strong></li>
  <li>Click the <strong>Set locale settings</strong> checkbox, and set the time zone and keyboard layout, typically <strong>America/Los Angeles</strong> and <strong>US</strong></li>
  <li>Click the checkbox for <strong>Skip first-run wizard</strong></li>
  <li>Click <strong>Save</strong> in <strong>Advanced Options</strong>, and click the <strong>Write</strong> button in the Imager window. Writing and verifying the OS image will take a few minutes.</li>
  <li>The Imager leaves the SD card unmounted, so you can remove the SD Reader from your computer</li>
  <li>If you get errors from your computer that the SD card can’t be read, just click Cancel (saw this on Windows)</li>
</ol>

<h2 id="option-2-sharing-your-computers-wi-fi">Option 2: Sharing Your Computer’s Wi-Fi</h2>
<ol>
  <li>The advantage of using your computer’s Wi-Fi is that you don’t have to enter network names and passwords on your Pi. USF Wireless is especially inconvenient. Instead, you can share your laptop’s Wi-Fi connection to your Pi, using the Pi as an <strong>Ethernet Gadget</strong> using the RNDIS network protocol.</li>
  <li>Open your Terminal app and <code class="language-plaintext highlighter-rouge">$ cd /Volumes/boot</code></li>
  <li>Edit <code class="language-plaintext highlighter-rouge">config.txt</code> and add this line to the bottom of the file, ensuring that there is a newline afterwards: <code class="language-plaintext highlighter-rouge">dtoverlay=dwc2</code></li>
  <li>Edit <code class="language-plaintext highlighter-rouge">cmdline.txt</code> and insert this into the line, right after <code class="language-plaintext highlighter-rouge">rootwait</code>, ensuring that there is a single space on each side of what you add: <code class="language-plaintext highlighter-rouge">modules-load=dwc2,g_ether</code></li>
  <li><code class="language-plaintext highlighter-rouge">$ touch ssh</code> so that Raspberry Pi OS will start the SSH server when it boots</li>
  <li><code class="language-plaintext highlighter-rouge">$ cd ~</code> so you can Eject the SD card, remove it, and insert the Micro SD card into your Pi</li>
  <li>On your laptop, enable <strong>Internet sharing</strong>:
On macOS: Go to <strong>System Preferences</strong> | <strong>Sharing</strong>. Check <strong>Internet Sharing</strong>. Share your connection from <strong>Wi-Fi</strong> to computers using <strong>RNDIS/Ethernet Gadget</strong></li>
  <li>On Windows: TBA</li>
  <li>On Linux: TBA</li>
  <li>Plug your Pi into your laptop to power it up. After about 30 seconds (first boot takes longer), you can ssh onto your Pi: <code class="language-plaintext highlighter-rouge">$ ssh pi@raspberrypi.local</code></li>
  <li>The default password is <code class="language-plaintext highlighter-rouge">raspberry</code>. You should change that immediately using the command: <code class="language-plaintext highlighter-rouge">$ passwd</code></li>
  <li>RNDIS will make up new MAC addresses every time we connect, but we want to have constant MAC addresses, so we will set them into the <code class="language-plaintext highlighter-rouge">rndis.conf</code> file like this:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ dmesg | grep usb0 
</code></pre></div>    </div>

    <p>should produce something like:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [ 6.315112] usb0: HOST MAC 07:17:57:07:1e:ab
 [ 6.318300] usb0: MAC 5a:50:5e:5e:5f:5b
</code></pre></div>    </div>

    <p>Put those addresses into <code class="language-plaintext highlighter-rouge">rndis.conf</code> like this:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ sudo bash $ cd /etc/modprobe.d
 $ cat &gt; rndis.conf
 options g_ether host_addr=07:17:57:07:1e:ab dev_addr=5a:50:5e:5e:5f:5b^D
</code></pre></div>    </div>
    <p>(^D means CTRL-D)</p>

    <p><code class="language-plaintext highlighter-rouge">$ sudo reboot</code> for the MAC address changes to take effect</p>
  </li>
</ol>

<h2 id="install-software">Install Software</h2>
<ol>
  <li>At this point, your Pi should be able to connect to Internet sites, either using Internet Sharing, or directly on Wi-Fi. Check this using the command: <code class="language-plaintext highlighter-rouge">$ ping usfca.edu</code> and see that you get ICMP timings back. <code class="language-plaintext highlighter-rouge">CTRL-C</code> to stop <code class="language-plaintext highlighter-rouge">ping</code></li>
  <li>Raspberry Pi OS Lite does not come with a <code class="language-plaintext highlighter-rouge">git</code> client. You should install it using the command: <code class="language-plaintext highlighter-rouge">$ sudo apt-get install git</code></li>
  <li>Raspberry Pi OS comes with the text editors <code class="language-plaintext highlighter-rouge">vi</code> and <code class="language-plaintext highlighter-rouge">vim</code>. If you prefer to use <code class="language-plaintext highlighter-rouge">emacs</code> or <code class="language-plaintext highlighter-rouge">micro</code> you may install those.</li>
  <li>Cyberduck and similar are not recommended. You will lose credit in Interactive Grading for using Sublime or VSCode.</li>
  <li>Install <code class="language-plaintext highlighter-rouge">git</code> and <code class="language-plaintext highlighter-rouge">pip</code>: <code class="language-plaintext highlighter-rouge">$ sudo apt-get install python3-pip</code> <code class="language-plaintext highlighter-rouge">$ sudo apt-get install git</code></li>
</ol>

<h2 id="powering-your-pi-safely">Powering your Pi Safely</h2>
<ol>
  <li>Since Raspberry Pis have no battery, disconnecting power while the OS is running can lose your changes, or even corrupt the filesystem, rendering the OS unbootable.</li>
  <li>Always use <code class="language-plaintext highlighter-rouge">$ sudo shutdown now</code> to power down the board when you’re not using it.
If you’re powering a larger Pi (model 3b+ or 4b) you should a separate AC adapter, rather than powering it from USB.</li>
</ol>

  </section>
</div>

      </div>
    </main>

  </body>

</html>
